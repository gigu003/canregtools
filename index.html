<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analyzing Population-Based Cancer Registry Data • canregtools</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="favicon-48x48.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Analyzing Population-Based Cancer Registry Data">
<meta property="og:description" content="Tools designed to streamline data analysis, visualization, and reporting in Population-Based Cancer Registration (PBCR).">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">canregtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/gigu003/canregtools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="canregtools-">canregtools <img src="reference/figures/logo.png" align="right" height="120"><a class="anchor" aria-label="anchor" href="#canregtools-"></a>
</h1></div>
<!-- badges: start -->

<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>canregtools is an R package designed to streamline data analysis, visualization, and reporting in Population-Based Cancer Registration (PBCR). It includes five sets of R functions that cover data reading, processing, statistical calculations, visualization, and reporting.</p>
<ul>
<li>
<code><a href="reference/read_canreg.html">read_canreg()</a></code> read data formats required by the National Cancer Center in China to object with class of <code>canreg</code> or <code>canregs</code>. The raw data is stored in an Excel file containing three sheets named FB, SW, and POP, where FB represents incidence data, SW represents mortality data, and POP represents population data.</li>
<li>
<code><a href="reference/count_canreg.html">count_canreg()</a></code> convert object with class of <code>canreg</code> or <code>canregs</code> to object with class of <code>fbswicd</code> or <code>fbswicds</code>.</li>
<li>
<code><a href="reference/create_asr.html">create_asr()</a></code> calculate age-standardized rates (ASR), truncated rates and cumulative rates, <code><a href="reference/create_quality.html">create_quality()</a></code> calculate quality indicators such as crude incidence or mortality, mortality to incidence ratio (M:I), percent of pathological verified cases (MV%), and etc. , <code><a href="reference/create_age_rate.html">create_age_rate()</a></code> calculate age specific rate, <code>create_sheet()</code> create a summary sheet containing some of these statistics.</li>
<li>
<code><a href="reference/draw_pyramid.html">draw_pyramid()</a></code> draw population pyramid, <code><a href="reference/draw_linechart.html">draw_linechart()</a></code> draw line chart, <code><a href="reference/draw_barchart.html">draw_barchart()</a></code> draw grouped bar chart.</li>
<li>
<code><a href="reference/create_report.html">create_report()</a></code> generate cancer registry report based on data of class “canreg” or “canregs”, the output file type can be Word, HTML, or PDF.</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Currently, the package is not available on CRAN, but you can install the development version of canregtools from GitHub. The installation method is as follows:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Install the remotes package</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span></span>
<span><span class="fu">install_github</span><span class="op">(</span><span class="st">"gigu003/canregtools"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gigu003.github.io/canregtools/" class="external-link">canregtools</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/data.html">data</a></span><span class="op">(</span><span class="st">"canregs"</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">canregs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># count `canreg` data to `fbswicd`</span></span>
<span><span class="va">fbsw</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/count_canreg.html">count_canreg</a></span><span class="op">(</span>cancer_type <span class="op">=</span> <span class="st">"big"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># calculate age standard rate (ASR) based on `fbswicd`</span></span>
<span><span class="va">fbsw</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="reference/create_asr.html">create_asr</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">sex</span>, <span class="va">cancer</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="reference/add_labels.html">add_labels</a></span><span class="op">(</span>lang <span class="op">=</span> <span class="st">"en"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 84 × 14</span></span>
<span><span class="co">#&gt;    year sex   cancer site              icd10 no_cases    cr asr_cn2000 asr_wld85</span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;fct&gt; &lt;chr&gt;  &lt;fct&gt;             &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1  2021 Total 101    Oral Cavity &amp; Ph… C00-…       27  3.95       3.23      3.32</span></span>
<span><span class="co">#&gt; 2  2021 Total 102    Nasopharynx       C11          7  1.02       0.78      0.83</span></span>
<span><span class="co">#&gt; 3  2021 Total 103    Esophagus         C15         65  9.52       6.88      6.65</span></span>
<span><span class="co">#&gt; 4  2021 Total 104    Stomach           C16        101 14.8       11.2      11.2 </span></span>
<span><span class="co">#&gt; 5  2021 Total 105    Conlon, Rectum &amp;… C18-…      180 26.4       19.8      19.9 </span></span>
<span><span class="co">#&gt; # ℹ 79 more rows</span></span>
<span><span class="co">#&gt; # ℹ 5 more variables: truncr_cn2000 &lt;dbl&gt;, truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   prop &lt;dbl&gt;, rank &lt;int&gt;</span></span>
<span></span>
<span><span class="co"># calculate quality indicators based on `fbswicd`</span></span>
<span><span class="va">fbsw</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="reference/create_quality.html">create_quality</a></span><span class="op">(</span><span class="va">cancer</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="reference/add_labels.html">add_labels</a></span><span class="op">(</span>label_type <span class="op">=</span> <span class="st">"abbr"</span>, lang<span class="op">=</span><span class="st">"en"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 28 × 16</span></span>
<span><span class="co">#&gt;    year sex   cancer site       icd10    rks   fbs  inci   sws  mort    mi    mv</span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;fct&gt; &lt;chr&gt;  &lt;fct&gt;      &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1  9000 Total 101    Oral Cavi… C00-… 683110    27  3.95    13  1.9   0.48  55.6</span></span>
<span><span class="co">#&gt; 2  9000 Total 102    Nasophary… C11   683110     7  1.02     5  0.73  0.71  57.1</span></span>
<span><span class="co">#&gt; 3  9000 Total 103    Esophagus  C15   683110    65  9.52    46  6.73  0.71  86.2</span></span>
<span><span class="co">#&gt; 4  9000 Total 104    Stomach    C16   683110   101 14.8     79 11.6   0.78  71.3</span></span>
<span><span class="co">#&gt; 5  9000 Total 105    Colorectum C18-… 683110   180 26.4    103 15.1   0.57  81.7</span></span>
<span><span class="co">#&gt; # ℹ 23 more rows</span></span>
<span><span class="co">#&gt; # ℹ 4 more variables: dco &lt;dbl&gt;, ub &lt;dbl&gt;, sub &lt;dbl&gt;, m8000 &lt;dbl&gt;</span></span>
<span></span>
<span><span class="co"># calculate age specific rate based on `fbswicd`</span></span>
<span><span class="va">fbsw</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="reference/create_age_rate.html">create_age_rate</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="reference/add_labels.html">add_labels</a></span><span class="op">(</span>lang <span class="op">=</span> <span class="st">"en"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 19 × 8</span></span>
<span><span class="co">#&gt;    year sex   cancer site        icd10 agegrp   cases  rate</span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;fct&gt; &lt;chr&gt;  &lt;fct&gt;       &lt;chr&gt; &lt;fct&gt;    &lt;int&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1  9000 Total 60     All Cancers ALL   0 岁         6  79.1</span></span>
<span><span class="co">#&gt; 2  9000 Total 60     All Cancers ALL   1-4 岁      12  42.0</span></span>
<span><span class="co">#&gt; 3  9000 Total 60     All Cancers ALL   5-9 岁      14  46.5</span></span>
<span><span class="co">#&gt; 4  9000 Total 60     All Cancers ALL   10-14 岁     6  18.5</span></span>
<span><span class="co">#&gt; 5  9000 Total 60     All Cancers ALL   15-19 岁     6  16.1</span></span>
<span><span class="co">#&gt; # ℹ 14 more rows</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/gigu003/canregtools/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/gigu003/canregtools/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing canregtools</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Qiong Chen <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0003-2401-0046" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/gigu003/canregtools/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/gigu003/canregtools/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Qiong Chen.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

      </footer>
</div>






  </body>
</html>
