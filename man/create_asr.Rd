% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_asr.R
\name{create_asr}
\alias{create_asr}
\alias{create_asr.canregs}
\alias{create_asr.canreg}
\alias{create_asr.fbswicds}
\alias{create_asr.fbswicd}
\title{Calculate age-standardized rate (ASR)}
\usage{
create_asr(
  x,
  ...,
  event = "fbs",
  std = c("cn2000", "wld85"),
  cancer_type = "big",
  mp = 1e+05,
  decimal = 2,
  show_var = FALSE,
  show_ci = FALSE,
  collapse = TRUE
)

\method{create_asr}{canregs}(x, ..., cancer_type = "big", collapse = TRUE)

\method{create_asr}{canreg}(x, ..., cancer_type = "big")

\method{create_asr}{fbswicds}(
  x,
  ...,
  event = "fbs",
  std = c("cn2000", "wld85"),
  mp = 1e+05,
  decimal = 2,
  show_pop = FALSE,
  show_var = FALSE,
  show_ci = FALSE,
  collapse = TRUE
)

\method{create_asr}{fbswicd}(
  x,
  ...,
  event = "fbs",
  std = c("cn2000", "wld85"),
  mp = 1e+05,
  decimal = 2,
  show_pop = FALSE,
  show_var = FALSE,
  show_ci = FALSE
)
}
\arguments{
\item{x}{The input data, object with class of \code{'fbswicd'}, \code{'fbswicds'},
\code{'canreg'}, or \code{'canregs'}.}

\item{...}{One or more variables used for stratification. For example, you
can stratify by \code{sex}, \code{year}, \code{cancer}, or just by \code{year}. If sex
is not passed as a parameter, the output will be the result for the
combined gender.}

\item{event}{A variable used to specify the type of calculation, options are
"fbs" or "sws", "fbs" for cancer incidence, and "sws" for cancer
mortality.}

\item{std}{Specify the standard population structure in the 'std_pop' data
frame used for calculating standardized rates. When calculating
standardized rates for multiple standard populations, specify std = c(segi,
china).}

\item{cancer_type}{A character string specifying the classification method
used to categorize ICD-10 codes. This determines how ICD-10 codes are
classified. Options include \code{"big"} (classify ICD-10 codes into 26
cancer categories), \code{"small"} (classify ICD-10 codes into 59 cancer
categories, more specific categories), \code{"system"} (classify ICD-10
codes into organ system), and \code{"gco"} (classify ICD-10 code into
cancer categories same as classification published by the Global
Cancer Observatory). This parameter is only available when the
input data is a vector of ICD-10 codes, or object with class of
\code{'canreg'} or \code{'canregs'}.}

\item{mp}{A constant to multiply rates by (e.g. mp=1000 for rates per 1000).}

\item{decimal}{This parameter specifies the number of decimal places to
round the results. The default is 2, which means rates will
be rounded to two decimal places.}

\item{show_var}{Logical value whether output variance or not.}

\item{show_ci}{Logical value whether output confidence(lower or upper bound)
or not.}

\item{collapse}{Logical value whether output result as asr or asrs.}

\item{show_pop}{Logical value whether output population or not.}
}
\value{
A data frame or tibble contains the age standard rates and CIs.
}
\description{
\code{create_asr()} calculate age-standardized rates (ASRs) from object with
class of \code{canreg}, \code{canregs}, \code{fbswicd}, or \code{fbswicds}. It supports
stratification by multiple variables, allows the specification of different
standard population structures, and provides flexibility in the inclusion
of variance, confidence intervals, and population data.
}
\examples{
data("canregs")
asr_inci <- create_asr(canregs, event = "fbs", year, sex, cancer)
asr_mort <- create_asr(canregs, event = "sws", year, sex, cancer)

# calculate ASR based on object with class of `canregs`
asr <- create_asr(canregs, event = "sws", year, sex, cancer)

# calculate ASR based on object with class of `canreg`
data <- canregs[[1]]
# calculate ASR using default parameter
asr <- create_asr(data, year, sex, cancer)
head(asr)
# calculate ASR using multiple standard population
asr_multi_std <- create_asr(data, year, sex, cancer,
  std = c("cn82", "cn2000", "wld85")
)
head(asr_multi_std)
# calculate ASR with confidence interval
asr_with_ci <- create_asr(data, year, sex, cancer, show_ci = TRUE)
head(asr_with_ci)
# calculate ASR with population at risk
asr_with_pop <- create_asr(data, year, sex, cancer, show_pop = TRUE)
head((asr_with_pop))
# calculate ASR with variance
asr_with_var <- create_asr(data, year, sex, cancer, show_var = TRUE)
head(asr_with_var)

# calculate ASR based on object with class of `fbswicds`
# convert object with class of `canregs` to object with class of `fbswicds`
fbsws <- count_canreg(canregs)
asrs <- create_asr(fbsws, event = "sws", year, sex, cancer)

# calculate ASR based on object with class of `fbswicd`
# convert object with class of `canreg` to object with class of `fbswicd`
fbsw <- count_canreg(canregs[[1]])
asr <- create_asr(fbsw, event = "sws", year, sex, cancer)

}
\seealso{
\code{\link{ageadjust}} for age-adjusted rate calculations.
\code{\link{truncrate}} for truncated rate calculations.
}
