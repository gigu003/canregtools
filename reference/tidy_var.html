<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Reformat variable values for Cancer Registration in China — tidy_var • canregtools</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Reformat variable values for Cancer Registration in China — tidy_var"><meta property="og:description" content="Standardizes and labels values of a specified variable according to the
national cancer registration standard of China: T/CHIA 18-2021."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">canregtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/canregtools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/gigu003/canregtools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Reformat variable values for Cancer Registration in China</h1>
    <small class="dont-index">Source: <a href="https://github.com/gigu003/canregtools/blob/main/R/tidy.R" class="external-link"><code>R/tidy.R</code></a></small>
    <div class="hidden name"><code>tidy_var.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Standardizes and labels values of a specified variable according to the
national cancer registration standard of China: T/CHIA 18-2021.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tidy_var</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  var_name <span class="op">=</span> <span class="st">"occu"</span>,</span>
<span>  label_type <span class="op">=</span> <span class="st">"full"</span>,</span>
<span>  lang <span class="op">=</span> <span class="st">"code"</span>,</span>
<span>  as_factor <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A character vector containing raw values of a variable used in
cancer registry data.</p></dd>


<dt id="arg-var-name">var_name<a class="anchor" aria-label="anchor" href="#arg-var-name"></a></dt>
<dd><p>A character string indicating the name of the variable to
reformat (e.g., <code>"occu"</code> for occupation). Must be one of the variable
names defined in <code>tidy_var_maps</code>.</p></dd>


<dt id="arg-label-type">label_type<a class="anchor" aria-label="anchor" href="#arg-label-type"></a></dt>
<dd><p>Type of the label used ("full" or "abbr").</p></dd>


<dt id="arg-lang">lang<a class="anchor" aria-label="anchor" href="#arg-lang"></a></dt>
<dd><p>Character, specify the output language, options are 'cn',
or 'en', default is 'cn'.</p></dd>


<dt id="arg-as-factor">as_factor<a class="anchor" aria-label="anchor" href="#arg-as-factor"></a></dt>
<dd><p>Logical, indicate whether output value as factor.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A character or factor vector of reformatted values. The output
depends on the settings for <code>label_type</code>, <code>lang</code>, and <code>as_factor</code>:</p><ul><li><p>If <code>as_factor = FALSE</code>, returns a character vector.</p></li>
<li><p>If <code>as_factor = TRUE</code>, returns a factor with sorted unique levels.</p></li>
<li><p>The labels used depend on <code>lang</code> (<code>"cn"</code>, <code>"en"</code>, <code>"code"</code>, or <code>"icd10"</code>)
and <code>label_type</code> (<code>"full"</code> or <code>"abbr"</code>).</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p><code>tidy_var()</code> converts raw character inputs into standardized labels, codes,
or abbreviations based on reference mappings defined for each variable (e.g.,
occupation, basis of diagnosis, etc.). It supports both Chinese and English
outputs and can return values as factors with labeled levels.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">occu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"11"</span>, <span class="st">"13"</span>, <span class="st">"17"</span>, <span class="st">"21"</span>, <span class="st">"24"</span>, <span class="st">"27"</span>, <span class="st">"31"</span>, <span class="st">"37"</span>, <span class="st">"51"</span>, <span class="st">"80"</span>, <span class="st">"90"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">tidy_var</span><span class="op">(</span><span class="va">occu</span>, var_name <span class="op">=</span> <span class="st">"occu"</span>, lang <span class="op">=</span> <span class="st">"cn"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "国家公务员"     "专业技术人员"   "职员"           "企业管理人员"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] "工人"           "农民"           "学生"           "现役军人"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] "自由职业者"     "退（离）休人员" "其他"          </span>
<span class="r-in"><span><span class="fu">tidy_var</span><span class="op">(</span><span class="va">occu</span>, var_name <span class="op">=</span> <span class="st">"occu"</span>, lang <span class="op">=</span> <span class="st">"en"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "Civil Servant"                    "Professional/Technical Personnel"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3] "Clerk"                            "Enterprise Manager"              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] "Worker"                           "Farmer"                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] "Student"                          "Active Duty Military Personnel"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] "Self-employed"                    "Retired"                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "Others"                          </span>
<span class="r-in"><span><span class="fu">tidy_var</span><span class="op">(</span><span class="va">occu</span>, var_name <span class="op">=</span> <span class="st">"occu"</span>, lang <span class="op">=</span> <span class="st">"cn"</span>, label_type <span class="op">=</span> <span class="st">"abbr"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "公务员" "技术"   "职员"   "管理"   "工人"   "农民"   "学生"   "军人"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] "自由"   "退休"   "其他"  </span>
<span class="r-in"><span><span class="fu">tidy_var</span><span class="op">(</span><span class="va">occu</span>, var_name <span class="op">=</span> <span class="st">"occu"</span>, lang <span class="op">=</span> <span class="st">"en"</span>, label_type <span class="op">=</span> <span class="st">"abbr"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "CS"  "PT"  "CL"  "EM"  "WK"  "FR"  "ST"  "ML"  "SE"  "RT"  "OTH"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Qiong Chen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

