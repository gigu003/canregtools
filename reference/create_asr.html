<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculate age-standardized rate (ASR) — create_asr • canregtools</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate age-standardized rate (ASR) — create_asr"><meta property="og:description" content="create_asr() calculate age-standardized rates (ASRs) from object with
class of canreg, canregs, fbswicd, or fbswicds. It supports
stratification by multiple variables, allows the specification of different
standard population structures, and provides flexibility in the inclusion
of variance, confidence intervals, and population data."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">canregtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/gigu003/canregtools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate age-standardized rate (ASR)</h1>
    <small class="dont-index">Source: <a href="https://github.com/gigu003/canregtools/blob/main/R/create_asr.R" class="external-link"><code>R/create_asr.R</code></a></small>
    <div class="hidden name"><code>create_asr.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>create_asr()</code> calculate age-standardized rates (ASRs) from object with
class of <code>canreg</code>, <code>canregs</code>, <code>fbswicd</code>, or <code>fbswicds</code>. It supports
stratification by multiple variables, allows the specification of different
standard population structures, and provides flexibility in the inclusion
of variance, confidence intervals, and population data.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_asr</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  event <span class="op">=</span> <span class="st">"fbs"</span>,</span>
<span>  std <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cn2000"</span>, <span class="st">"wld85"</span><span class="op">)</span>,</span>
<span>  cancer_type <span class="op">=</span> <span class="st">"big"</span>,</span>
<span>  mp <span class="op">=</span> <span class="fl">1e+05</span>,</span>
<span>  decimal <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  show_var <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show_ci <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  collapse <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'canregs'</span></span>
<span><span class="fu">create_asr</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, cancer_type <span class="op">=</span> <span class="st">"big"</span>, collapse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'canreg'</span></span>
<span><span class="fu">create_asr</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, cancer_type <span class="op">=</span> <span class="st">"big"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'fbswicds'</span></span>
<span><span class="fu">create_asr</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  event <span class="op">=</span> <span class="st">"fbs"</span>,</span>
<span>  std <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cn2000"</span>, <span class="st">"wld85"</span><span class="op">)</span>,</span>
<span>  mp <span class="op">=</span> <span class="fl">1e+05</span>,</span>
<span>  decimal <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  show_pop <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show_var <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show_ci <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  collapse <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'fbswicd'</span></span>
<span><span class="fu">create_asr</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  event <span class="op">=</span> <span class="st">"fbs"</span>,</span>
<span>  std <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cn2000"</span>, <span class="st">"wld85"</span><span class="op">)</span>,</span>
<span>  mp <span class="op">=</span> <span class="fl">1e+05</span>,</span>
<span>  decimal <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  show_pop <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show_var <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show_ci <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>The input data, object with class of <code>'fbswicd'</code>, <code>'fbswicds'</code>,
<code>'canreg'</code>, or <code>'canregs'</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>One or more variables used for stratification. For example, you
can stratify by <code>sex</code>, <code>year</code>, <code>cancer</code>, or just by <code>year</code>. If sex
is not passed as a parameter, the output will be the result for the
combined gender.</p></dd>


<dt id="arg-event">event<a class="anchor" aria-label="anchor" href="#arg-event"></a></dt>
<dd><p>A variable used to specify the type of calculation, options are
"fbs" or "sws", "fbs" for cancer incidence, and "sws" for cancer
mortality.</p></dd>


<dt id="arg-std">std<a class="anchor" aria-label="anchor" href="#arg-std"></a></dt>
<dd><p>Specify the standard population structure in the 'std_pop' data
frame used for calculating standardized rates. When calculating
standardized rates for multiple standard populations, specify std = c(segi,
china).</p></dd>


<dt id="arg-cancer-type">cancer_type<a class="anchor" aria-label="anchor" href="#arg-cancer-type"></a></dt>
<dd><p>A character string specifying the classification method
used to categorize ICD-10 codes. This determines how ICD-10 codes are
classified. Options include <code>"big"</code> (classify ICD-10 codes into 26
cancer categories), <code>"small"</code> (classify ICD-10 codes into 59 cancer
categories, more specific categories), <code>"system"</code> (classify ICD-10
codes into organ system), and <code>"gco"</code> (classify ICD-10 code into
cancer categories same as classification published by the Global
Cancer Observatory). This parameter is only available when the
input data is a vector of ICD-10 codes, or object with class of
<code>'canreg'</code> or <code>'canregs'</code>.</p></dd>


<dt id="arg-mp">mp<a class="anchor" aria-label="anchor" href="#arg-mp"></a></dt>
<dd><p>A constant to multiply rates by (e.g. mp=1000 for rates per 1000).</p></dd>


<dt id="arg-decimal">decimal<a class="anchor" aria-label="anchor" href="#arg-decimal"></a></dt>
<dd><p>This parameter specifies the number of decimal places to
round the results. The default is 2, which means rates will
be rounded to two decimal places.</p></dd>


<dt id="arg-show-var">show_var<a class="anchor" aria-label="anchor" href="#arg-show-var"></a></dt>
<dd><p>Logical value whether output variance or not.</p></dd>


<dt id="arg-show-ci">show_ci<a class="anchor" aria-label="anchor" href="#arg-show-ci"></a></dt>
<dd><p>Logical value whether output confidence(lower or upper bound)
or not.</p></dd>


<dt id="arg-collapse">collapse<a class="anchor" aria-label="anchor" href="#arg-collapse"></a></dt>
<dd><p>Logical value whether output result as asr or asrs.</p></dd>


<dt id="arg-show-pop">show_pop<a class="anchor" aria-label="anchor" href="#arg-show-pop"></a></dt>
<dd><p>Logical value whether output population or not.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A data frame or tibble contains the age standard rates and CIs.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="ageadjust.html">ageadjust</a></code> for age-adjusted rate calculations.
<code><a href="truncrate.html">truncrate</a></code> for truncated rate calculations.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"canregs"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">asr_inci</span> <span class="op">&lt;-</span> <span class="fu">create_asr</span><span class="op">(</span><span class="va">canregs</span>, event <span class="op">=</span> <span class="st">"fbs"</span>, <span class="va">year</span>, <span class="va">sex</span>, <span class="va">cancer</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">asr_mort</span> <span class="op">&lt;-</span> <span class="fu">create_asr</span><span class="op">(</span><span class="va">canregs</span>, event <span class="op">=</span> <span class="st">"sws"</span>, <span class="va">year</span>, <span class="va">sex</span>, <span class="va">cancer</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># calculate ASR based on object with class of `canregs`</span></span></span>
<span class="r-in"><span><span class="va">asr</span> <span class="op">&lt;-</span> <span class="fu">create_asr</span><span class="op">(</span><span class="va">canregs</span>, event <span class="op">=</span> <span class="st">"sws"</span>, <span class="va">year</span>, <span class="va">sex</span>, <span class="va">cancer</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># calculate ASR based on object with class of `canreg`</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">canregs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="co"># calculate ASR using default parameter</span></span></span>
<span class="r-in"><span><span class="va">asr</span> <span class="op">&lt;-</span> <span class="fu">create_asr</span><span class="op">(</span><span class="va">data</span>, <span class="va">year</span>, <span class="va">sex</span>, <span class="va">cancer</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">asr</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 12</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    year   sex cancer no_cases    cr asr_cn2000 asr_wld85 truncr_cn2000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">2</span>021     0 101          38  5.53       3.74      3.79          6.37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>  <span style="text-decoration: underline;">2</span>021     0 102           5  0.73       0.71      0.71          1.19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>  <span style="text-decoration: underline;">2</span>021     0 103          59  8.58       4.53      4.85          7.56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>  <span style="text-decoration: underline;">2</span>021     0 104         123 17.9       11.1      11.2          18.1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>  <span style="text-decoration: underline;">2</span>021     0 105         236 34.3       20.6      20.2          34.1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>  <span style="text-decoration: underline;">2</span>021     0 106         128 18.6       11.5      11.4          21.7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 4 more variables: truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;, prop &lt;dbl&gt;, rank &lt;int&gt;</span></span>
<span class="r-in"><span><span class="co"># calculate ASR using multiple standard population</span></span></span>
<span class="r-in"><span><span class="va">asr_multi_std</span> <span class="op">&lt;-</span> <span class="fu">create_asr</span><span class="op">(</span><span class="va">data</span>, <span class="va">year</span>, <span class="va">sex</span>, <span class="va">cancer</span>,</span></span>
<span class="r-in"><span>  std <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cn82"</span>, <span class="st">"cn2000"</span>, <span class="st">"wld85"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">asr_multi_std</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 14</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    year   sex cancer no_cases    cr asr_cn82 asr_cn2000 asr_wld85 truncr_cn82</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">2</span>021     0 101          38  5.53     3.07       3.74      3.79        6.89</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>  <span style="text-decoration: underline;">2</span>021     0 102           5  0.73     0.74       0.71      0.71        1.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>  <span style="text-decoration: underline;">2</span>021     0 103          59  8.58     3.26       4.53      4.85        8.28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>  <span style="text-decoration: underline;">2</span>021     0 104         123 17.9      8.33      11.1      11.2        19.5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>  <span style="text-decoration: underline;">2</span>021     0 105         236 34.3     14.9       20.6      20.2        36.2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>  <span style="text-decoration: underline;">2</span>021     0 106         128 18.6      8.6       11.5      11.4        23.1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 5 more variables: truncr_cn2000 &lt;dbl&gt;, truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   prop &lt;dbl&gt;, rank &lt;int&gt;</span></span>
<span class="r-in"><span><span class="co"># calculate ASR with confidence interval</span></span></span>
<span class="r-in"><span><span class="va">asr_with_ci</span> <span class="op">&lt;-</span> <span class="fu">create_asr</span><span class="op">(</span><span class="va">data</span>, <span class="va">year</span>, <span class="va">sex</span>, <span class="va">cancer</span>, show_ci <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">asr_with_ci</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 18</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    year   sex cancer no_cases    cr cr_lower cr_upper asr_cn2000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">2</span>021     0 101          38  5.53     3.91     7.59       3.74</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>  <span style="text-decoration: underline;">2</span>021     0 102           5  0.73     0.24     1.7        0.71</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>  <span style="text-decoration: underline;">2</span>021     0 103          59  8.58     6.53    11.1        4.53</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>  <span style="text-decoration: underline;">2</span>021     0 104         123 17.9     14.9     21.4       11.1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>  <span style="text-decoration: underline;">2</span>021     0 105         236 34.3     30.1     39.0       20.6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>  <span style="text-decoration: underline;">2</span>021     0 106         128 18.6     15.5     22.1       11.5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 10 more variables: asr_lower_cn2000 &lt;dbl&gt;, asr_upper_cn2000 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   asr_wld85 &lt;dbl&gt;, asr_lower_wld85 &lt;dbl&gt;, asr_upper_wld85 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   truncr_cn2000 &lt;dbl&gt;, truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;, prop &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   rank &lt;int&gt;</span></span>
<span class="r-in"><span><span class="co"># calculate ASR with population at risk</span></span></span>
<span class="r-in"><span><span class="va">asr_with_pop</span> <span class="op">&lt;-</span> <span class="fu">create_asr</span><span class="op">(</span><span class="va">data</span>, <span class="va">year</span>, <span class="va">sex</span>, <span class="va">cancer</span>, show_pop <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">(</span><span class="va">asr_with_pop</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 13</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    year   sex cancer    pop no_cases    cr asr_cn2000 asr_wld85 truncr_cn2000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">2</span>021     0 101    <span style="text-decoration: underline;">687</span>356       38  5.53       3.74      3.79          6.37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>  <span style="text-decoration: underline;">2</span>021     0 102    <span style="text-decoration: underline;">687</span>356        5  0.73       0.71      0.71          1.19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>  <span style="text-decoration: underline;">2</span>021     0 103    <span style="text-decoration: underline;">687</span>356       59  8.58       4.53      4.85          7.56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>  <span style="text-decoration: underline;">2</span>021     0 104    <span style="text-decoration: underline;">687</span>356      123 17.9       11.1      11.2          18.1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>  <span style="text-decoration: underline;">2</span>021     0 105    <span style="text-decoration: underline;">687</span>356      236 34.3       20.6      20.2          34.1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>  <span style="text-decoration: underline;">2</span>021     0 106    <span style="text-decoration: underline;">687</span>356      128 18.6       11.5      11.4          21.7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 4 more variables: truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;, prop &lt;dbl&gt;, rank &lt;int&gt;</span></span>
<span class="r-in"><span><span class="co"># calculate ASR with variance</span></span></span>
<span class="r-in"><span><span class="va">asr_with_var</span> <span class="op">&lt;-</span> <span class="fu">create_asr</span><span class="op">(</span><span class="va">data</span>, <span class="va">year</span>, <span class="va">sex</span>, <span class="va">cancer</span>, show_var <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">asr_with_var</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    year   sex cancer no_cases    cr   cr_var asr_cn2000 asr_var_cn2000 asr_wld85</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">2</span>021     0 101          38  5.53 8.04<span style="color: #949494;">e</span><span style="color: #BB0000;">-11</span>       3.74       4.57<span style="color: #949494;">e</span><span style="color: #BB0000;">-11</span>      3.79</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>  <span style="text-decoration: underline;">2</span>021     0 102           5  0.73 1.06<span style="color: #949494;">e</span><span style="color: #BB0000;">-11</span>       0.71       1.25<span style="color: #949494;">e</span><span style="color: #BB0000;">-11</span>      0.71</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>  <span style="text-decoration: underline;">2</span>021     0 103          59  8.58 1.25<span style="color: #949494;">e</span><span style="color: #BB0000;">-10</span>       4.53       4.01<span style="color: #949494;">e</span><span style="color: #BB0000;">-11</span>      4.85</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>  <span style="text-decoration: underline;">2</span>021     0 104         123 17.9  2.60<span style="color: #949494;">e</span><span style="color: #BB0000;">-10</span>      11.1        1.16<span style="color: #949494;">e</span><span style="color: #BB0000;">-10</span>     11.2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>  <span style="text-decoration: underline;">2</span>021     0 105         236 34.3  5.00<span style="color: #949494;">e</span><span style="color: #BB0000;">-10</span>      20.6        1.99<span style="color: #949494;">e</span><span style="color: #BB0000;">-10</span>     20.2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>  <span style="text-decoration: underline;">2</span>021     0 106         128 18.6  2.71<span style="color: #949494;">e</span><span style="color: #BB0000;">-10</span>      11.5        1.15<span style="color: #949494;">e</span><span style="color: #BB0000;">-10</span>     11.4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 6 more variables: asr_var_wld85 &lt;dbl&gt;, truncr_cn2000 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;, prop &lt;dbl&gt;, rank &lt;int&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># calculate ASR based on object with class of `fbswicds`</span></span></span>
<span class="r-in"><span><span class="co"># convert object with class of `canregs` to object with class of `fbswicds`</span></span></span>
<span class="r-in"><span><span class="va">fbsws</span> <span class="op">&lt;-</span> <span class="fu"><a href="count_canreg.html">count_canreg</a></span><span class="op">(</span><span class="va">canregs</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">asrs</span> <span class="op">&lt;-</span> <span class="fu">create_asr</span><span class="op">(</span><span class="va">fbsws</span>, event <span class="op">=</span> <span class="st">"sws"</span>, <span class="va">year</span>, <span class="va">sex</span>, <span class="va">cancer</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># calculate ASR based on object with class of `fbswicd`</span></span></span>
<span class="r-in"><span><span class="co"># convert object with class of `canreg` to object with class of `fbswicd`</span></span></span>
<span class="r-in"><span><span class="va">fbsw</span> <span class="op">&lt;-</span> <span class="fu"><a href="count_canreg.html">count_canreg</a></span><span class="op">(</span><span class="va">canregs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">asr</span> <span class="op">&lt;-</span> <span class="fu">create_asr</span><span class="op">(</span><span class="va">fbsw</span>, event <span class="op">=</span> <span class="st">"sws"</span>, <span class="va">year</span>, <span class="va">sex</span>, <span class="va">cancer</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Qiong Chen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

